{% extends "layout.twig" %}

{% block title %}Login - Tickit{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="/public/css/components/login.css">
  <link rel="stylesheet" href="/public/css/components/backbutton.css">
{% endblock %}

{% block content %}
<section class="loginSection">
  <div class="container" style="position: relative">
    {% include 'components/backbutton.twig' %}

    <h1 class="title">Welcome Back</h1>
    <p class="subtitle">Login to your Tickit account</p>

    <form class="form" method="POST">
      <div class="inputGroup">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          placeholder="you@example.com"
          name="email"
          required
        />
         {% if error %}
          <span class="error">{{ error }}</span>
        {% endif %}
        {% if success %}
          <span class="success">{{ success }}</span>
        {% endif %}
      </div>

      <div class="inputGroup">
        <label for="password">Password</label>
        <input
          type="password"
          id="password"
          placeholder="••••••••"
          name="password"
          required
        />
      </div>

      <button type="submit" class="btnPrimary">Login</button>

      {# Error or Success Messages #}
      
    </form>
  </div>
</section>

{% if success %}
<script>
  // Wait 1500ms and redirect to /app/dashboard
  setTimeout(() => {
    window.location.href = '/app';
  }, 1000);
</script>
{% endif %}
{% endblock %}
