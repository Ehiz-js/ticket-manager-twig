{% extends "layout.twig" %}

{% block title %}Sign Up - Tickit{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="/public/css/components/signup.css">
  <link rel="stylesheet" href="/public/css/components/backbutton.css">
{% endblock %}

{% block content %}
<section class="loginSection">
  <div class="container" style="position: relative">
    {% include 'components/backbutton.twig' %}

    <h1 class="title">Create Account</h1>
    <p class="subtitle">Sign up for a Tickit account</p>

    <form class="form" method="POST">
      <div class="inputGroup">
        <label for="name">Full Name</label>
        <input type="text" id="name" placeholder="John Doe" name="name" required />
      </div>

      <div class="inputGroup">
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="you@example.com" name="email" required />
      </div>

      <div class="inputGroup">
        <label for="password">Password</label>
        <input type="password" id="password" placeholder="••••••••" name="password" required />
      </div>

      <div class="inputGroup">
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" id="confirmPassword" placeholder="••••••••" name="confirmPassword" required />
      </div>

      <button type="submit" class="btnPrimary">Sign Up</button>

      <div class="messageContainer" style="margin-top: 1rem;">
        {% if error %}
          <span class="error">{{ error }}</span>
        {% endif %}
        {% if success %}
          <span class="success">{{ success }}</span>
        {% endif %}
      </div>
    </form>

    <p class="switchAuth">
      Already have an account? <a href="/login">Login here</a>
    </p>
  </div>
</section>

{% if success %}
<script>
  // Redirect to login after 1500ms
  setTimeout(() => {
    window.location.href = '/app';
  }, 1500);
</script>
{% endif %}
{% endblock %}
